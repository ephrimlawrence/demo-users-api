# Users API

> A sample RESTful API built [Nest](https://github.com/nestjs/nest)

## Description

The API has only one endpoint `GET /api/users/{userId}` to fetch user details. MongoDB is used as the database, with typegoose as the ORM.

## Installation

```bash
$ npm install
```

## Running the app

```bash
# development
$ npm run start

# watch mode
$ npm run start:dev

# production mode
$ npm run start:prod
```

## Test

```bash
# unit tests
$ npm run test

# e2e tests
$ npm run test:e2e

# test coverage
$ npm run test:cov
```


## API Documentation

The API documentation is available at [http://localhost:3000/docs](http://localhost:3000/docs) when the app is running locally. The documentation is a [Swagger](https://swagger.io/), which is auto generated by the [NestJS Swagger](https://docs.nestjs.com/openapi/introduction) module.

## Rate Limiting

The API is rate limited using the [nestjs-throttler](https://docs.nestjs.com/security/rate-limiting) module. The rate limit is set to 10 requests per minute.


## Error Handling

The API uses the [NestJS Exception Filters](https://docs.nestjs.com/exception-filters) to handle errors. The API returns a JSON response with the following structure for all errors:

```json
{
  "statusCode": 400,
  "message": "Bad Request",
  "error": "Bad Request"
}
```

Update [src/filters/http-exception.filter.ts](src/filters/http-exception.filter.ts) file, line `34` to send errors to external services like Slack or Sentry.

## Loggging

The API uses the custom logger midilleware to log all requests to console. The log file is located at `src/logger.ts`.
